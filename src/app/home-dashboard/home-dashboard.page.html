<ion-header *ngIf="platform.is('desktop')">

  <ion-toolbar>
    <ion-item lines="none">
      <ion-img class="titleicon ion-padding" src="../../assets/icon/kaveat.png" alt="Kaveat"></ion-img>
      <ion-title class="ion-no-padding">
        (beta)
      </ion-title>
      <ion-buttons slot="end">
        <ion-button *ngIf="platform.is('desktop')" (click)="navigateToPath('/home-dashboard/settings')" name="account" fill="clear" shape="round">
          <ion-icon slot="start" name="person-circle"></ion-icon>
          {{currentUser.firstName}}
        </ion-button>
        <ion-button (click)="authService.signOut()" name="logout" fill="outline" shape="round">
          Logout
        </ion-button>
      </ion-buttons>  
    </ion-item>
    <!-- <ion-title>
      <ion-img class="titleicon" src="../../assets/icon/kaveat.png" alt="Kaveat"></ion-img>
    </ion-title>
    <ion-buttons slot="end">
      <ion-button *ngIf="platform.is('desktop')" (click)="navigateToPath('/home-dashboard/settings')" name="account" fill="clear" shape="round">
        <ion-icon slot="start" name="person-circle"></ion-icon>
        {{currentUser.firstName}}
      </ion-button>
      <ion-button (click)="authService.signOut()" name="logout" fill="outline" shape="round">
        Logout
      </ion-button>
    </ion-buttons> -->
  </ion-toolbar>

</ion-header>

<ion-content *ngIf="platform.is('desktop')">
  <ion-split-pane contentId="main-content">
    <ion-menu contentId="main-content" type="reveal">
      <ion-content class="ion-padding">
        <ion-button expand="block" shape="round" (click)="navigateToPath('home-dashboard/upload')">
          <ion-icon slot="start" name="add"></ion-icon>
          Upload
        </ion-button>
        <ion-list id="inbox-list" *ngIf="authService.userData as user">
          <ion-menu-toggle auto-hide="false" *ngFor="let p of appPages; let i = index">
            <ion-item routerDirection="root" [routerLink]="[p.url]" [state]="{ userMetadata: this.currentUser }" lines="none" detail="false" routerLinkActive="selected">
              <ion-icon slot="start" [ios]="p.icon + '-outline'" [md]="p.icon + '-sharp'" routerDirection="root" [routerLink]="[p.url]" [state]="{ userMetadata: this.currentUser }" lines="none" detail="false" routerLinkActive="selected"></ion-icon>
              <ion-label>{{ p.title }}</ion-label>
            </ion-item>
          </ion-menu-toggle>
        </ion-list>
      </ion-content>
      <ion-footer class="ion-no-border ion-padding">
        <ion-note class="disclaimer">© 2023 by Kaveat, Inc.<br>
          Kaveat, Inc. does not provide legal advice, is not a lawyer, and is not a substitute for legal advice from a licensed attorney. Kaveat, Inc. makes no representations or warranties that its explanations or insights will protect you and/or your business from loss, damages, or lawsuits. Users rely on contract feedback at their own risk. Please consult with an attorney for legal advice.
        </ion-note>
        <br>
        <a target="_blank" rel="noopener" href="https://www.kaveatapp.com/terms-of-service" style="font-size: x-small;">
          <u>Terms of Service</u>
        </a> | 
        <a target="_blank" rel="noopener" href="https://www.kaveatapp.com/privacy-policy" style="font-size: x-small;">
          <u>Privacy Policy</u>
        </a>
      </ion-footer>
    </ion-menu>
    <ion-router-outlet id="main-content"></ion-router-outlet>
  </ion-split-pane>
</ion-content>

<ion-menu *ngIf="!platform.is('desktop')" contentId="main-content-mobile">
  <ion-content class="ion-padding">
    <ion-button *ngIf="currentUser" (click)="navigateToPath('/home-dashboard/settings')" name="account" fill="clear" shape="round">
      <ion-icon slot="start" name="person-circle"></ion-icon>
      {{currentUser.firstName}}
    </ion-button>
    <ion-button expand="block" shape="round" (click)="navigateToPath('home-dashboard/upload')">
      <ion-icon slot="start" name="add"></ion-icon>
      Upload
    </ion-button>
    <ion-list id="inbox-list" *ngIf="currentUser">
      <ion-menu-toggle auto-hide="false" *ngFor="let p of appPages; let i = index">
        <ion-item routerDirection="root" [routerLink]="[p.url]" [state]="{ userMetadata: this.currentUser }" lines="none" detail="false" routerLinkActive="selected">
          <ion-icon slot="start" [ios]="p.icon + '-outline'" [md]="p.icon + '-sharp'" routerDirection="root" [routerLink]="[p.url]" [state]="{ userMetadata: this.currentUser }" lines="none" detail="false" routerLinkActive="selected"></ion-icon>
          <ion-label>{{ p.title }}</ion-label>
        </ion-item>
      </ion-menu-toggle>
    </ion-list>
  </ion-content>
  <ion-footer class="ion-no-border ion-padding">
    <ion-note class="disclaimer">© 2023 by Kaveat, Inc.<br>
      Kaveat, Inc. does not provide legal advice, is not a lawyer, and is not a substitute for legal advice from a licensed attorney. Kaveat, Inc. makes no representations or warranties that its explanations or insights will protect you and/or your business from loss, damages, or lawsuits. Users rely on contract feedback at their own risk. Please consult with an attorney for legal advice.
    </ion-note>
    <br>
    <a target="_blank" rel="noopener" href="https://www.kaveatapp.com/terms-of-service" style="font-size: x-small;">
      <u>Terms of Service</u>
    </a> | 
    <a target="_blank" rel="noopener" href="https://www.kaveatapp.com/privacy-policy" style="font-size: x-small;">
      <u>Privacy Policy</u>
    </a>
  </ion-footer>
</ion-menu>
<div *ngIf="!platform.is('desktop')" class="ion-page" id="main-content-mobile">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <!-- <ion-img class="ion-padding" src="../../assets/icon/kaveat.png" alt="Kaveat"></ion-img>
      <ion-buttons slot="end">
        <ion-button *ngIf="platform.is('desktop') && currentUser" (click)="navigateToPath('/home-dashboard/settings')" name="account" fill="clear" shape="round">
          <ion-icon slot="start" name="person-circle"></ion-icon>
          {{currentUser.firstName}}
        </ion-button>
        <ion-button (click)="authService.signOut()" name="logout" fill="outline" shape="round">
          Logout
        </ion-button>
      </ion-buttons> -->
      <ion-item lines="none">
        <ion-img class="titleicon ion-padding" src="../../assets/icon/kaveat.png" alt="Kaveat"></ion-img>
        <ion-title class="ion-no-padding">
          (beta)
        </ion-title>
        <ion-buttons slot="end">
          <ion-button *ngIf="platform.is('desktop')" (click)="navigateToPath('/home-dashboard/settings')" name="account" fill="clear" shape="round">
            <ion-icon slot="start" name="person-circle"></ion-icon>
            {{currentUser.firstName}}
          </ion-button>
          <ion-button (click)="authService.signOut()" name="logout" fill="outline" shape="round">
            Logout
          </ion-button>
        </ion-buttons>  
      </ion-item>
    </ion-toolbar>
  </ion-header>
  <ion-content>
    <ion-router-outlet id="main-content-mobile"></ion-router-outlet>
  </ion-content>
</div>